package Programmers;

import java.util.stream.Stream;

//https://programmers.co.kr/learn/courses/30/lessons/17683
public class Number_17683 {

	public static void main(String[] args) {
		String m = "ABC";
		String[] musicinfos = { "00:00,00:06,HI,ABC#ABC"};
		solution(m, musicinfos);
	}

	public static String solution(String m, String[] musicinfos) {
		String answer = "(None)";
		int playTime = 0;

		for (String str : musicinfos) {
			String strs[] = str.split(",");
			// '#' 몇개인지 카운트
			int cnt = 0;
			for (int i = 0; i < strs[3].length(); i++) {
				if (strs[3].charAt(i) == '#')
					cnt++;
			}
			int length = strs[3].length() - cnt;
			int start[] = Stream.of(strs[0].split(":")).mapToInt(Integer::parseInt).toArray();
			int end[] = Stream.of(strs[1].split(":")).mapToInt(Integer::parseInt).toArray();
			int duration = (end[0] * 60 + end[1]) - (start[0] * 60 + start[1]);

			StringBuilder sb = new StringBuilder();
			for (int j = 0; j < duration / length; j++) {
				sb.append(strs[3]);
			}
			sb.append(strs[3].substring(0, duration % length));
			
			int startIndex =0;
			while (startIndex <sb.length()) {
				int index = sb.indexOf(m,startIndex);
				if (index >= 0) {
					if ((index + m.length()) < sb.length() && sb.charAt(index + m.length()) == '#') {
						startIndex = index+m.length()+startIndex;
						continue;
					}

					if (playTime < duration) {
						answer = strs[2];
						playTime = duration;
						break;
					}
				}
				else
					break;
			}
		}

		return answer;
	}

}
